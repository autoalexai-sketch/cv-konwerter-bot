// Internationalization (i18n) for CV Konwerter
const translations = {
    pl: {
        'meta.title': 'CV Konwerter - Darmowa konwersja DOCX ‚Üí PDF',
        'meta.description': 'Konwertuj CV do PDF w 2 sekundy! Bezp≈Çatnie, szybko, bez rejestracji.',
        'nav.convert': 'Konwersja',
        'nav.premium': 'Premium',
        'nav.telegram': 'Telegram Bot',
        'hero.title': 'Konwertuj CV do PDF w 2 sekundy!',
        'hero.subtitle': 'Bezp≈Çatnie, szybko i bez rejestracji',
        'hero.features.fast': 'Szybko',
        'hero.features.free': 'Darmowo',
        'hero.features.secure': 'Bezpiecznie',
        'convert.title': 'Konwertuj swoje CV',
        'convert.subtitle': 'PrzeciƒÖgnij plik DOCX lub kliknij, aby wybraƒá',
        'convert.upload.drag': 'PrzeciƒÖgnij plik tutaj',
        'convert.upload.or': 'lub',
        'convert.upload.button': 'Wybierz plik DOCX',
        'convert.upload.maxSize': 'Maksymalny rozmiar: 15 MB',
        'convert.button': 'Konwertuj do PDF',
        'convert.converting': 'Konwersja...',
        'convert.success.title': 'Gotowe! üéâ',
        'convert.success.download': 'Pobierz PDF',
        'convert.error.title': 'WystƒÖpi≈Ç b≈ÇƒÖd',
        'premium.title': 'üíé Pakiet Premium',
        'premium.subtitle': 'Profesjonalne CV + List motywacyjny za 9,99 z≈Ç',
        'premium.free.title': 'üÜì Wersja darmowa',
        'premium.free.button': 'U≈ºywasz teraz',
        'premium.paid.title': 'üíé Premium',
        'premium.paid.badge': 'Popularne',
        'premium.paid.price': '9.99 z≈Ç',
        'premium.paid.priceNote': 'jednorazowo',
        'premium.paid.button': 'Kup Premium (9,99 z≈Ç)',
        'premium.paid.payment': 'üí≥ P≈Çatno≈õƒá przez Przelewy24',
        'telegram.title': 'üì± U≈ºywasz Telegram?',
        'telegram.subtitle': 'Wy≈õlij CV bezpo≈õrednio do naszego bota!',
        'telegram.button': 'Otw√≥rz Telegram Bot',
        'footer.copyright': '&copy; 2026 CV Konwerter. Wszystkie prawa zastrze≈ºone.',
        'footer.privacy': 'Twoje pliki sƒÖ automatycznie usuwane po <strong>24 godzinach</strong> zgodnie z RODO.',
        'rodo.consent': 'Potwierdzam, ≈ºe mam prawo do udostƒôpnienia tego dokumentu i akceptujƒô <a href="/polityka-prywatnosci" target="_blank" style="color: #4a6cf7;">politykƒô prywatno≈õci</a> zgodnie z RODO.',
        'form.step1.title': ' Dane osobowe',
        'form.step1.name': 'Imiƒô',
        'form.step1.surname': 'Nazwisko',
        'form.step1.email': 'Email',
        'form.step1.phone': 'Telefon',
        'form.step1.address': 'Adres',
        'form.step1.postcode': 'Kod pocztowy',
        'form.step1.city': 'Miasto',
        'form.required': 'Pole wymagane',
        'form.invalid_email': 'Nieprawid≈Çowy adres email',
        'form.invalid_phone': 'Nieprawid≈Çowy numer telefonu (min. 9 cyfr)'
    },
    en: {
        'meta.title': 'CV Converter - Free DOCX ‚Üí PDF conversion',
        'meta.description': 'Convert CV to PDF in 2 seconds! Free, fast, no registration.',
        'nav.convert': 'Conversion',
        'nav.premium': 'Premium',
        'nav.telegram': 'Telegram Bot',
        'hero.title': 'Convert your CV to PDF in 2 seconds!',
        'hero.subtitle': 'Free, fast and no registration',
        'hero.features.fast': 'Fast',
        'hero.features.free': 'Free',
        'hero.features.secure': 'Secure',
        'convert.title': 'Convert your CV',
        'convert.subtitle': 'Drag DOCX file or click to select',
        'convert.upload.drag': 'Drag file here',
        'convert.upload.or': 'or',
        'convert.upload.button': 'Select DOCX file',
        'convert.upload.maxSize': 'Max size: 15 MB',
        'convert.button': 'Convert to PDF',
        'convert.converting': 'Converting...',
        'convert.success.title': 'Done! üéâ',
        'convert.success.download': 'Download PDF',
        'convert.error.title': 'An error occurred',
        'premium.title': 'üíé Premium Package',
        'premium.subtitle': 'Professional CV + Cover letter for 9.99 z≈Ç',
        'premium.free.title': 'üÜì Free version',
        'premium.free.button': 'You are using now',
        'premium.paid.title': 'üíé Premium',
        'premium.paid.badge': 'Popular',
        'premium.paid.price': '9.99 z≈Ç',
        'premium.paid.priceNote': 'one-time',
        'premium.paid.button': 'Buy Premium (9.99 z≈Ç)',
        'premium.paid.payment': 'üí≥ Payment via Przelewy24',
        'telegram.title': 'üì± Using Telegram?',
        'telegram.subtitle': 'Send CV directly to our bot!',
        'telegram.button': 'Open Telegram Bot',
        'footer.copyright': '&copy; 2026 CV Konwerter. All rights reserved.',
        'footer.privacy': 'Your files are automatically deleted after <strong>24 hours</strong> in accordance with GDPR.',
        'rodo.consent': 'I confirm that I have the right to share this document and accept the <a href="/privacy-policy" target="_blank" style="color: #4a6cf7;">privacy policy</a> in accordance with GDPR.',
        'form.step1.title': ' Personal data',
        'form.step1.name': 'First name',
        'form.step1.surname': 'Last name',
        'form.step1.email': 'Email',
        'form.step1.phone': 'Phone',
        'form.step1.address': 'Address',
        'form.step1.postcode': 'Postcode',
        'form.step1.city': 'City',
        'form.required': 'Required field',
        'form.invalid_email': 'Invalid email address',
        'form.invalid_phone': 'Invalid phone number (min. 9 digits)'
    },
    uk: {
        'meta.title': 'CV –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä - –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è DOCX ‚Üí PDF',
        'meta.description': '–ö–æ–Ω–≤–µ—Ä—Ç—É–π—Ç–µ CV –≤ PDF –∑–∞ 2 —Å–µ–∫—É–Ω–¥–∏! –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ, —à–≤–∏–¥–∫–æ, –±–µ–∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.',
        'nav.convert': '–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è',
        'nav.premium': '–ü—Ä–µ–º—ñ—É–º',
        'nav.telegram': 'Telegram –ë–æ—Ç',
        'hero.title': '–ö–æ–Ω–≤–µ—Ä—Ç—É–π—Ç–µ —Å–≤–æ—î CV –≤ PDF –∑–∞ 2 —Å–µ–∫—É–Ω–¥–∏!',
        'hero.subtitle': '–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ, —à–≤–∏–¥–∫–æ —ñ –±–µ–∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó',
        'hero.features.fast': '–®–≤–∏–¥–∫–æ',
        'hero.features.free': '–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ',
        'hero.features.secure': '–ë–µ–∑–ø–µ—á–Ω–æ',
        'convert.title': '–ö–æ–Ω–≤–µ—Ä—Ç—É–π—Ç–µ —Å–≤–æ—î CV',
        'convert.subtitle': '–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —Ñ–∞–π–ª DOCX –∞–±–æ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å, —â–æ–± –≤–∏–±—Ä–∞—Ç–∏',
        'convert.upload.drag': '–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —Ñ–∞–π–ª —Å—é–¥–∏',
        'convert.upload.or': '–∞–±–æ',
        'convert.upload.button': '–í–∏–±—Ä–∞—Ç–∏ —Ñ–∞–π–ª DOCX',
        'convert.upload.maxSize': '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä: 15 –ú–ë',
        'convert.button': '–ö–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –≤ PDF',
        'convert.converting': '–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è...',
        'convert.success.title': '–ì–æ—Ç–æ–≤–æ! üéâ',
        'convert.success.download': '–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ PDF',
        'convert.error.title': '–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞',
        'premium.title': 'üíé –ü–∞–∫–µ—Ç –ü—Ä–µ–º—ñ—É–º',
        'premium.subtitle': '–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–µ CV + –°—É–ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ª–∏—Å—Ç –∑–∞ 9,99 –∑–ª',
        'premium.free.title': 'üÜì –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ –≤–µ—Ä—Å—ñ—è',
        'premium.free.button': '–í–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –∑–∞—Ä–∞–∑',
        'premium.paid.title': 'üíé –ü—Ä–µ–º—ñ—É–º',
        'premium.paid.badge': '–ü–æ–ø—É–ª—è—Ä–Ω–µ',
        'premium.paid.price': '9.99 –∑–ª',
        'premium.paid.priceNote': '–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ',
        'premium.paid.button': '–ö—É–ø–∏—Ç–∏ –ü—Ä–µ–º—ñ—É–º (9,99 –∑–ª)',
        'premium.paid.payment': 'üí≥ –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Przelewy24',
        'telegram.title': 'üì± –ö–æ—Ä–∏—Å—Ç—É—î—Ç–µ—Å—å Telegram?',
        'telegram.subtitle': '–ù–∞–¥—ñ—à–ª—ñ—Ç—å CV –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –¥–æ –Ω–∞—à–æ–≥–æ –±–æ—Ç–∞!',
        'telegram.button': '–í—ñ–¥–∫—Ä–∏—Ç–∏ Telegram –ë–æ—Ç',
        'footer.copyright': '&copy; 2026 CV Konwerter. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.',
        'footer.privacy': '–í–∞—à—ñ —Ñ–∞–π–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ <strong>24 –≥–æ–¥–∏–Ω–∏</strong> –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ GDPR.',
        'rodo.consent': '–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é, —â–æ –º–∞—é –ø—Ä–∞–≤–æ –Ω–∞–¥–∞—Ç–∏ —Ü–µ–π –¥–æ–∫—É–º–µ–Ω—Ç —ñ –ø—Ä–∏–π–º–∞—é <a href="/polityka-prywatnosci" target="_blank" style="color: #4a6cf7;">–ø–æ–ª—ñ—Ç–∏–∫—É –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ</a> –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ GDPR.',
        'form.step1.title': ' –û—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ',
        'form.step1.name': "–Ü–º'—è",
        'form.step1.surname': '–ü—Ä—ñ–∑–≤–∏—â–µ',
        'form.step1.email': 'Email',
        'form.step1.phone': '–¢–µ–ª–µ—Ñ–æ–Ω',
        'form.step1.address': '–ê–¥—Ä–µ—Å–∞',
        'form.step1.postcode': '–ü–æ—à—Ç–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å',
        'form.step1.city': '–ú—ñ—Å—Ç–æ',
        'form.required': '–û–±–æ–≤\'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ',
        'form.invalid_email': '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∞–¥—Ä–µ—Å–∞ email',
        'form.invalid_phone': '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É (–º—ñ–Ω. 9 —Ü–∏—Ñ—Ä)'
    }
};

// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞
function getTranslation(key, lang = 'pl') {
    return translations[lang]?.[key] || translations['pl'][key] || key;
}

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–∑—ã–∫–∞
function setLanguage(lang) {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —è–∑—ã–∫ –≤ localStorage
    localStorage.setItem('language', lang);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º data-i18n
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const translation = getTranslation(key, lang);
        
        // –ï—Å–ª–∏ –µ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ (<a>), —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Ö
        if (translation.includes('<a ')) {
            el.innerHTML = translation;
        } else {
            el.textContent = translation;
        }
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–ª–∞–≥–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —è–∑—ã–∫–∞
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.querySelector(`.lang-btn[data-lang="${lang}"]`).classList.add('active');
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∏—á–∏ –ø—Ä–µ–º–∏—É–º-–ø–∞–∫–µ—Ç–∞
    updatePremiumFeatures(lang);
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('language') || 'pl';
    setLanguage(savedLang);
});

// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∏—á –ø—Ä–µ–º–∏—É–º-–ø–∞–∫–µ—Ç–∞
function updatePremiumFeatures(lang) {
    const premiumFeatures = {
        pl: [
            '‚úÖ Profesjonalne szablony CV',
            '‚úÖ List motywacyjny w pakiecie',
            '‚úÖ Format DOCX + PDF',
            '‚úÖ Bezp≈Çatna aktualizacja',
            '‚úÖ Priorytetowa obs≈Çuga'
        ],
        en: [
            '‚úÖ Professional CV templates',
            '‚úÖ Cover letter included',
            '‚úÖ DOCX + PDF format',
            '‚úÖ Free updates',
            '‚úÖ Priority support'
        ],
        uk: [
            '‚úÖ –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ —à–∞–±–ª–æ–Ω–∏ —Ä–µ–∑—é–º–µ',
            '‚úÖ –°—É–ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ª–∏—Å—Ç —É –∫–æ–º–ø–ª–µ–∫—Ç—ñ',
            '‚úÖ –§–æ—Ä–º–∞—Ç DOCX + PDF',
            '‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è',
            '‚úÖ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞'
        ]
    };
    
    const freeFeatures = {
        pl: [
            '‚úÖ Konwersja DOCX ‚Üí PDF',
            '‚úÖ Szybka konwersja (2 sekundy)',
            '‚úÖ Bezp≈Çatnie',
            '‚ö†Ô∏è Brak szablon√≥w premium'
        ],
        en: [
            '‚úÖ DOCX ‚Üí PDF conversion',
            '‚úÖ Fast conversion (2 seconds)',
            '‚úÖ Free',
            '‚ö†Ô∏è No premium templates'
        ],
        uk: [
            '‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è DOCX ‚Üí PDF',
            '‚úÖ –®–≤–∏–¥–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è (2 —Å–µ–∫—É–Ω–¥–∏)',
            '‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ',
            '‚ö†Ô∏è –ù–µ–º–∞—î –ø—Ä–µ–º—ñ—É–º —à–∞–±–ª–æ–Ω—ñ–≤'
        ]
    };
    
    const premiumList = document.getElementById('premiumFeatures');
    const freeList = document.getElementById('freeFeatures');
    
    if (premiumList && premiumFeatures[lang]) {
        premiumList.innerHTML = premiumFeatures[lang].map(item => `<li>${item}</li>`).join('');
    }
    
    if (freeList && freeFeatures[lang]) {
        freeList.innerHTML = freeFeatures[lang].map(item => `<li>${item}</li>`).join('');
    }
}
